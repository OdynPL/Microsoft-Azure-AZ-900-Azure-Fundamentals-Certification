<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 280">
  <defs>
    <linearGradient id="kvGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1a5276;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2980b9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="appGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1f618d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3498db;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="entraGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#e67e22;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f39c12;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="secretGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#7d3c98;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#9b59b6;stop-opacity:1" />
    </linearGradient>
    <marker id="arrowOrange" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#e67e22"/>
    </marker>
    <marker id="arrowGreen" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#27ae60"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="600" height="280" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="300" y="28" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" font-weight="600" fill="#2c3e50">Przeplyw dostepu do Key Vault (Managed Identity)</text>
  
  <!-- Application -->
  <rect x="30" y="60" width="120" height="60" rx="6" fill="url(#appGrad)"/>
  <text x="90" y="88" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="white">App Service</text>
  <text x="90" y="105" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="white">(Managed Identity)</text>
  
  <!-- Step 1 -->
  <line x1="150" y1="90" x2="205" y2="90" stroke="#e67e22" stroke-width="2" marker-end="url(#arrowOrange)"/>
  <text x="178" y="82" font-family="Segoe UI, Arial" font-size="10" fill="#e67e22" font-weight="600">1</text>
  
  <!-- Entra ID -->
  <rect x="210" y="60" width="120" height="60" rx="6" fill="url(#entraGrad)"/>
  <text x="270" y="88" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="white">Microsoft</text>
  <text x="270" y="105" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="white">Entra ID</text>
  
  <!-- Step 2 -->
  <line x1="270" y1="120" x2="270" y2="160" stroke="#e67e22" stroke-width="2" marker-end="url(#arrowOrange)"/>
  <text x="280" y="145" font-family="Segoe UI, Arial" font-size="10" fill="#e67e22" font-weight="600">2</text>
  
  <!-- Access Token -->
  <rect x="210" y="165" width="120" height="40" rx="5" fill="#fff3cd" stroke="#ffc107"/>
  <text x="270" y="190" text-anchor="middle" font-family="Segoe UI, Arial" font-size="11" font-weight="600" fill="#856404">Access Token</text>
  
  <!-- Step 3 -->
  <line x1="210" y1="185" x2="150" y2="185" stroke="#e67e22" stroke-width="2" marker-end="url(#arrowOrange)"/>
  <text x="178" y="177" font-family="Segoe UI, Arial" font-size="10" fill="#e67e22" font-weight="600">3</text>
  
  <!-- App with token -->
  <rect x="30" y="165" width="120" height="40" rx="5" fill="url(#appGrad)"/>
  <text x="90" y="190" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="white">App + Token</text>
  
  <!-- Step 4 -->
  <line x1="90" y1="205" x2="90" y2="235" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <text x="100" y="225" font-family="Segoe UI, Arial" font-size="10" fill="#27ae60" font-weight="600">4</text>
  
  <!-- Key Vault -->
  <rect x="30" y="240" width="120" height="35" rx="5" fill="url(#kvGrad)"/>
  <text x="90" y="262" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="white">Key Vault (RBAC)</text>
  
  <!-- Step 5 -->
  <line x1="150" y1="257" x2="205" y2="257" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <text x="178" y="249" font-family="Segoe UI, Arial" font-size="10" fill="#27ae60" font-weight="600">5</text>
  
  <!-- Secret value -->
  <rect x="210" y="240" width="120" height="35" rx="5" fill="url(#secretGrad)"/>
  <text x="270" y="262" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="white">Secret Value</text>
  
  <!-- Legend box -->
  <rect x="360" y="55" width="220" height="130" rx="6" fill="#ecf0f1" stroke="#bdc3c7"/>
  <text x="470" y="78" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" font-weight="600" fill="#2c3e50">Kroki:</text>
  <text x="375" y="100" font-family="Segoe UI, Arial" font-size="10" fill="#2c3e50">1. App prosi o token</text>
  <text x="375" y="118" font-family="Segoe UI, Arial" font-size="10" fill="#2c3e50">2. Entra ID weryfikuje identity</text>
  <text x="375" y="136" font-family="Segoe UI, Arial" font-size="10" fill="#2c3e50">3. Token zwrocony do App</text>
  <text x="375" y="154" font-family="Segoe UI, Arial" font-size="10" fill="#2c3e50">4. App wysyla request + token</text>
  <text x="375" y="172" font-family="Segoe UI, Arial" font-size="10" fill="#2c3e50">5. Key Vault zwraca secret</text>
  
  <!-- No credentials note -->
  <rect x="360" y="195" width="220" height="55" rx="5" fill="#d4edda" stroke="#28a745"/>
  <text x="470" y="215" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" font-weight="600" fill="#155724">Zero credentials w kodzie!</text>
  <text x="470" y="232" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#155724">Managed Identity + RBAC</text>
  <text x="470" y="245" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#155724">= bezpieczny dostep</text>
</svg>