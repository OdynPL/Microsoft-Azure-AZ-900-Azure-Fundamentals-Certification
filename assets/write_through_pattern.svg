<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250">
  <defs>
    <linearGradient id="appGradWT" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3B82F6"/>
      <stop offset="100%" style="stop-color:#1D4ED8"/>
    </linearGradient>
    <linearGradient id="cacheGradWT" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#DC382D"/>
      <stop offset="100%" style="stop-color:#A61B1B"/>
    </linearGradient>
    <linearGradient id="dbGradWT" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10B981"/>
      <stop offset="100%" style="stop-color:#059669"/>
    </linearGradient>
    <marker id="arrowWT" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#3B82F6"/>
    </marker>
    <marker id="arrowSync" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#F59E0B"/>
    </marker>
  </defs>
  
  <!-- Title -->
  <text x="350" y="25" text-anchor="middle" font-family="Segoe UI, Arial" font-size="18" font-weight="600" fill="#1E3A5F">Write-Through (synchroniczny zapis)</text>
  
  <!-- Components -->
  <rect x="50" y="80" width="120" height="70" rx="10" fill="url(#appGradWT)"/>
  <text x="110" y="115" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" font-weight="600" fill="white">Aplikacja</text>
  <text x="110" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#BFDBFE">zapisuje do cache</text>
  
  <rect x="290" y="80" width="120" height="70" rx="10" fill="url(#cacheGradWT)"/>
  <text x="350" y="115" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" font-weight="600" fill="white">Redis</text>
  <text x="350" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#FECACA">Cache</text>
  
  <rect x="530" y="80" width="120" height="70" rx="10" fill="url(#dbGradWT)"/>
  <text x="590" y="115" text-anchor="middle" font-family="Segoe UI, Arial" font-size="14" font-weight="600" fill="white">Baza</text>
  <text x="590" y="135" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#A7F3D0">danych</text>
  
  <!-- Step 1: Write to cache -->
  <line x1="175" y1="100" x2="280" y2="100" stroke="#3B82F6" stroke-width="3" marker-end="url(#arrowWT)"/>
  <circle cx="227" cy="75" r="14" fill="#EFF6FF" stroke="#3B82F6" stroke-width="2"/>
  <text x="227" y="80" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" font-weight="600" fill="#1E40AF">1</text>
  <text x="227" y="60" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#374151">Zapisz do cache</text>
  
  <!-- Step 2: Cache writes to DB (sync) -->
  <line x1="415" y1="115" x2="520" y2="115" stroke="#F59E0B" stroke-width="3" marker-end="url(#arrowSync)"/>
  <circle cx="467" cy="90" r="14" fill="#FFFBEB" stroke="#F59E0B" stroke-width="2"/>
  <text x="467" y="95" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" font-weight="600" fill="#B45309">2</text>
  <text x="467" y="75" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#B45309">SYNC zapis do DB</text>
  
  <!-- Step 3: Confirmation back -->
  <line x1="280" y1="135" x2="175" y2="135" stroke="#10B981" stroke-width="2" stroke-dasharray="5,3" marker-end="url(#arrowWT)"/>
  <circle cx="227" cy="160" r="14" fill="#ECFDF5" stroke="#10B981" stroke-width="2"/>
  <text x="227" y="165" text-anchor="middle" font-family="Segoe UI, Arial" font-size="12" font-weight="600" fill="#047857">3</text>
  <text x="227" y="185" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#047857">Potwierdzenie</text>
  
  <!-- Sync indicator -->
  <rect x="380" y="160" width="150" height="35" rx="6" fill="#FFFBEB" stroke="#F59E0B" stroke-width="1"/>
  <text x="455" y="175" text-anchor="middle" font-family="Segoe UI, Arial" font-size="9" fill="#B45309">SYNCHRONICZNIE!</text>
  <text x="455" y="188" text-anchor="middle" font-family="Segoe UI, Arial" font-size="8" fill="#92400E">App czeka na zapis DB</text>
  
  <!-- Pros/Cons -->
  <rect x="50" y="205" width="280" height="35" rx="6" fill="#ECFDF5" stroke="#10B981" stroke-width="1"/>
  <text x="190" y="227" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#047857">+ Dane zawsze aktualne w cache i DB</text>
  
  <rect x="370" y="205" width="280" height="35" rx="6" fill="#FEF2F2" stroke="#EF4444" stroke-width="1"/>
  <text x="510" y="227" text-anchor="middle" font-family="Segoe UI, Arial" font-size="10" fill="#DC2626">- Wyzsza latencja zapisu (czeka na DB)</text>
</svg>