<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="720" viewBox="0 0 1080 720">
  <defs>
    <style>
      .title { font: 700 24px Inter, Segoe UI, Arial, sans-serif; fill:#0b3a75; }
      .subtitle { font: 600 14px Inter, Segoe UI, Arial, sans-serif; fill:#0b3a75; }
      .text { font: 13px Inter, Segoe UI, Arial, sans-serif; fill:#1f2430; }
      .muted { fill:#5a6577; font: 12px Inter, Segoe UI, Arial, sans-serif; }
      .box { fill:#eef5ff; stroke:#4a78c2; stroke-width:2; rx:10; }
      .box-alt { fill:#f6f9fc; stroke:#8a9dbd; stroke-width:2; rx:10; }
      .cloud { fill:#f0fbf4; stroke:#2f8f4e; stroke-width:2; rx:12; }
      .engine { fill:#fff7ee; stroke:#cc7a00; stroke-width:2; rx:10; }
      .state { fill:#fff2f5; stroke:#cc4a7a; stroke-width:2; rx:10; }
      .lane { fill:#ffffff; stroke:#d7dee9; stroke-width:2; rx:14; }
      .arrow { stroke:#38404a; stroke-width:2.2; marker-end:url(#arrowhead); }
      .arrow-dash { stroke:#38404a; stroke-width:2; stroke-dasharray:6 6; marker-end:url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="12" markerHeight="8" refX="10" refY="4" orient="auto">
      <polygon points="0 0, 12 4, 0 8" fill="#38404a"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="540" y="44" text-anchor="middle" class="title">IaC &amp; Automation — przepływ i komponenty</text>
  <text x="540" y="66" text-anchor="middle" class="muted">ARM/Bicep · Terraform · GitOps · Runbooki · DSC · CI/CD</text>

  <!-- Swimlanes -->
  <rect x="30" y="90" width="1020" height="230" class="lane"/>
  <text x="45" y="115" class="subtitle">Plan &amp; Authoring (Repo · PR · Walidacja)</text>

  <rect x="30" y="340" width="1020" height="320" class="lane"/>
  <text x="45" y="365" class="subtitle">Wdrożenie &amp; Utrzymanie (Pipelines · Silnik · Stan · Zasoby · Operacje)</text>

  <!-- Row 1: Authoring -->
  <rect x="60" y="140" width="220" height="140" class="box"/>
  <text x="170" y="165" text-anchor="middle" class="subtitle">Repozytorium Git</text>
  <text x="170" y="188" text-anchor="middle" class="text">IaC: Bicep / ARM (JSON)</text>
  <text x="170" y="208" text-anchor="middle" class="text">Terraform (HCL)</text>
  <text x="170" y="228" text-anchor="middle" class="muted">branching · wersjonowanie · PR review</text>

  <rect x="310" y="140" width="220" height="140" class="box-alt"/>
  <text x="420" y="165" text-anchor="middle" class="subtitle">Walidacja &amp; Testy</text>
  <text x="420" y="188" text-anchor="middle" class="text">lint · fmt · bicep build · what‑if</text>
  <text x="420" y="208" text-anchor="middle" class="text">terraform validate · plan</text>
  <text x="420" y="228" text-anchor="middle" class="muted">policy as code · szablony modułów</text>

  <rect x="560" y="140" width="220" height="140" class="box"/>
  <text x="670" y="165" text-anchor="middle" class="subtitle">CI/CD Pipelines</text>
  <text x="670" y="188" text-anchor="middle" class="text">GitHub Actions / Azure Pipelines</text>
  <text x="670" y="208" text-anchor="middle" class="text">artefakty · sekrety · approvale</text>
  <text x="670" y="228" text-anchor="middle" class="muted">GitOps: push/PR → deploy</text>

  <rect x="810" y="140" width="220" height="140" class="box-alt"/>
  <text x="920" y="165" text-anchor="middle" class="subtitle">Policy &amp; Compliance</text>
  <text x="920" y="188" text-anchor="middle" class="text">Azure Policy · Initiatives</text>
  <text x="920" y="208" text-anchor="middle" class="text">Deny / Audit / Modify</text>
  <text x="920" y="228" text-anchor="middle" class="muted">wymuszenie standardów</text>

  <!-- Row 2: Deploy & Operate -->
  <rect x="60" y="400" width="260" height="140" class="engine"/>
  <text x="190" y="425" text-anchor="middle" class="subtitle">Silnik wdrożeń</text>
  <text x="190" y="448" text-anchor="middle" class="text">Bicep → ARM · ARM templates</text>
  <text x="190" y="468" text-anchor="middle" class="text">Terraform (provider AzureRM)</text>
  <text x="190" y="488" text-anchor="middle" class="muted">idempotencja · plan/apply · what‑if</text>

  <rect x="350" y="400" width="210" height="140" class="state"/>
  <text x="455" y="425" text-anchor="middle" class="subtitle">Stan &amp; Artefakty</text>
  <text x="455" y="448" text-anchor="middle" class="text">Terraform state (blob + lock)</text>
  <text x="455" y="468" text-anchor="middle" class="text">Moduły/artefakty w Storage/Feed</text>
  <text x="455" y="488" text-anchor="middle" class="muted">wersjonowanie · DR</text>

  <rect x="590" y="390" width="420" height="160" class="cloud"/>
  <text x="800" y="415" text-anchor="middle" class="subtitle">Azure — Zasoby docelowe</text>
  <text x="800" y="438" text-anchor="middle" class="text">Resource Groups · VNET · VM · AKS · PaaS</text>
  <text x="800" y="458" text-anchor="middle" class="text">Key Vault · Storage · Databases · App Service</text>
  <text x="800" y="478" text-anchor="middle" class="muted">blokady (locks) · tagi · RBAC</text>

  <rect x="60" y="570" width="260" height="70" class="box-alt"/>
  <text x="190" y="595" text-anchor="middle" class="subtitle">Automatyzacja operacji</text>
  <text x="190" y="615" text-anchor="middle" class="text">Runbooki · Update Management · Change Tracking</text>

  <rect x="350" y="570" width="210" height="70" class="box-alt"/>
  <text x="455" y="595" text-anchor="middle" class="subtitle">DSC</text>
  <text x="455" y="615" text-anchor="middle" class="text">Utrzymanie pożądanego stanu hostów</text>

  <rect x="590" y="570" width="420" height="70" class="box-alt"/>
  <text x="800" y="595" text-anchor="middle" class="subtitle">Monitoring &amp; Zwrot informacji</text>
  <text x="800" y="615" text-anchor="middle" class="text">Azure Monitor · Logs (KQL) · Alerts · Workbooks</text>

  <!-- Arrows (Authoring flow) -->
  <line x1="280" y1="210" x2="310" y2="210" class="arrow"/>
  <line x1="530" y1="210" x2="560" y2="210" class="arrow"/>
  <line x1="780" y1="210" x2="810" y2="210" class="arrow"/>

  <!-- Arrows (Deploy flow) -->
  <line x1="670" y1="280" x2="670" y2="390" class="arrow"/>
  <line x1="290" y1="470" x2="350" y2="470" class="arrow"/>
  <line x1="560" y1="470" x2="590" y2="470" class="arrow"/>

  <!-- Feedback & Governance -->
  <line x1="800" y1="550" x2="800" y2="510" class="arrow"/>
  <line x1="920" y1="280" x2="920" y2="390" class="arrow-dash"/>

  <!-- Legend -->
  <circle cx="60" cy="690" r="6" fill="#4a78c2"/><text x="75" y="695" class="muted">Projektowanie i kontrola (repo/testy/pipelines)</text>
  <circle cx="360" cy="690" r="6" fill="#cc7a00"/><text x="375" y="695" class="muted">Wdrożenie (silnik)</text>
  <circle cx="560" cy="690" r="6" fill="#cc4a7a"/><text x="575" y="695" class="muted">Stan/artefakty</text>
  <circle cx="760" cy="690" r="6" fill="#2f8f4e"/><text x="775" y="695" class="muted">Zasoby w Azure</text>
</svg>