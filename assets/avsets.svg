<svg xmlns="http://www.w3.org/2000/svg" width="960" height="560">
  <style>
    .title { font-family: Arial; font-size: 20px; font-weight: 700; }
    .label { font-family: Arial; font-size: 14px; font-weight: 700; }
    .text  { font-family: Arial; font-size: 13px; }
    .as    { fill:#f4f7ff; stroke:#4a84f4; stroke-width:2; rx:14; }
    .fd    { fill:#ffffff; stroke:#98b7ff; stroke-width:1.5; rx:10; }
    .ud1   { fill:#ffe9cc; fill-opacity:0.55; }
    .ud2   { fill:#e6ffea; fill-opacity:0.55; }
    .ud3   { fill:#e6f2ff; fill-opacity:0.55; }
    .vm    { fill:#ffffff; stroke:#4a84f4; stroke-width:1.6; rx:7; }
    .legend{ fill:#ffffff; stroke:#c9d6ff; stroke-width:1.2; rx:8; }
    .seq   { stroke:#666; stroke-width:2; marker-end:url(#arrow); }
    .hint  { fill:#eef4ff; stroke:#c7d7ff; stroke-width:1; rx:8; }
  </style>

  <defs>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#666"/>
    </marker>
  </defs>

  <!-- Tytuł -->
  <text x="480" y="34" text-anchor="middle" class="title">
    Availability Set – Fault Domains (FD) & Update Domains (UD)
  </text>

  <!-- Kontener AS -->
  <rect x="40" y="50" width="720" height="460" class="as"/>
  <text x="400" y="80" text-anchor="middle" class="label">Availability Set</text>

  <!-- Pasy Update Domains (poziome) -->
  <rect x="60" y="110" width="680" height="110" class="ud1"/>
  <rect x="60" y="230" width="680" height="110" class="ud2"/>
  <rect x="60" y="350" width="680" height="110" class="ud3"/>

  <!-- Etykiety UD -->
  <text x="70" y="125" class="label">UD1</text>
  <text x="70" y="245" class="label">UD2</text>
  <text x="70" y="365" class="label">UD3</text>

  <!-- Kolumny Fault Domains (racks) -->
  <rect x="100" y="100" width="200" height="380" class="fd"/>
  <rect x="340" y="100" width="200" height="380" class="fd"/>
  <rect x="580" y="100" width="200" height="380" class="fd"/>

  <!-- Etykiety FD -->
  <text x="200" y="95" text-anchor="middle" class="label">FD1</text>
  <text x="440" y="95" text-anchor="middle" class="label">FD2</text>
  <text x="680" y="95" text-anchor="middle" class="label">FD3</text>

  <!-- VMs – rozmieszczone w różnych FD i UD -->
  <!-- UD1 -->
  <rect x="135" y="140" width="150" height="55" class="vm"/>
  <text x="210" y="172" text-anchor="middle" class="text">VM-A (UD1 / FD1)</text>

  <rect x="375" y="140" width="150" height="55" class="vm"/>
  <text x="450" y="172" text-anchor="middle" class="text">VM-B (UD1 / FD2)</text>

  <!-- UD2 -->
  <rect x="615" y="260" width="150" height="55" class="vm"/>
  <text x="690" y="292" text-anchor="middle" class="text">VM-C (UD2 / FD3)</text>

  <rect x="135" y="260" width="150" height="55" class="vm"/>
  <text x="210" y="292" text-anchor="middle" class="text">VM-D (UD2 / FD1)</text>

  <!-- UD3 -->
  <rect x="375" y="380" width="150" height="55" class="vm"/>
  <text x="450" y="412" text-anchor="middle" class="text">VM-E (UD3 / FD2)</text>

  <!-- Sekwencja aktualizacji po UD (rolling updates) -->
  <text x="120" y="500" class="text">Aktualizacje platformy: kolejno po Update Domains</text>
  <line x1="250" y1="495" x2="380" y2="495" class="seq"/>
  <line x1="500" y1="495" x2="630" y2="495" class="seq"/>
  <text x="240" y="492" text-anchor="end" class="label">UD1</text>
  <text x="490" y="492" text-anchor="end" class="label">UD2</text>
  <text x="740" y="492" text-anchor="end" class="label">UD3</text>

  <!-- Legenda / wyjaśnienia -->
  <rect x="780" y="50" width="150" height="220" class="legend"/>
  <text x="855" y="75" text-anchor="middle" class="label">Legenda</text>

  <!-- W legendzie: FD -->
  <rect x="795" y="95" width="120" height="38" class="fd"/>
  <text x="855" y="120" text-anchor="middle" class="text">FD – separacja sprzętowa</text>

  <!-- W legendzie: UD -->
  <rect x="795" y="140" width="120" height="22" class="ud1"/>
  <rect x="795" y="168" width="120" height="22" class="ud2"/>
  <rect x="795" y="196" width="120" height="22" class="ud3"/>
  <text x="855" y="160" text-anchor="middle" class="text">UD – fala update</text>

  <!-- Krótka podpowiedź -->
  <rect x="780" y="290" width="150" height="100" class="hint"/>
  <text x="855" y="315" text-anchor="middle" class="label">W praktyce</text>
  <text x="855" y="335" text-anchor="middle" class="text">Min. 2+ VM w AS</text>
  <text x="855" y="352" text-anchor="middle" class="text">VM w różnych FD i UD</text>
  <text x="855" y="369" text-anchor="middle" class="text">= odporność na awarie i aktualizacje</text>
</svg>